"use strict";

function ShopList() {
  this.init();
}

ShopList.prototype = {
  constructor: ShopList,
  init: function init() {
    $("#page1").load("../../dist/html/pubhead.html");
    $("#page2").load("../../dist/html/pubfooter.html");

    window.onload = function () {
      var list = document.querySelector('.list'); // console.log(big, list);

      list.onmouseover = function () {
        list.style.display = 'block';
      };
    };
  }
};
new ShopList();

function convertStrToObj(str) {
  if (!str) {
    return {};
  }

  return JSON.parse(str);
}

window.onload = function () {
  var num = document.querySelector('b');
  var storage = window.localStorage;
  var storage_str = storage.getItem('carts') ? storage.getItem('carts') : ''; //转对象

  var storage_obj = this.convertStrToObj(storage_str);
  var sum = 0; //遍历对象

  for (var key in storage_obj) {
    sum += storage_obj[key].num;
  }

  num.innerText = "".concat(sum); // console.log(num);

  num.parentNode.onclick = function () {
    location.href = '../dist/html/index04.html';
  };
};